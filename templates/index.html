<!DOCTYPE html>
<html>
<head>
    <title>YOLOv8 Video & Image Detect</title>
</head>
<body>
    <h2>Detect ·∫¢nh</h2>
    <form method="POST" enctype="multipart/form-data" action="/detect_image">
        <label>Ch·ªçn m√¥ h√¨nh:</label>
        <select name="model_type">
            <option value="yolo">YOLOv8</option>
            <option value="custom">Model kh√°c</option>
        </select>
        <input type="file" name="image">
        <button type="submit">Detect ·∫£nh</button>
    </form>

    <h2>Th√™m video m·ªõi</h2>

    <!-- N√∫t m·ªü webcam -->
    <form method="POST" action="/add_stream_webcam">
        <input type="hidden" name="model_type" value="yolo">
        <button type="submit">üì∑ M·ªü webcam</button>
    </form>

    <br>

    <!-- N√∫t upload video -->
    <form method="POST" enctype="multipart/form-data" action="/add_stream_video">
        <label>Upload video (mp4, avi,...):</label>
        <input type="file" name="video_file" accept="video/*" required>
        <input type="hidden" name="model_type" value="yolo">
        <button type="submit">üìÅ Upload video</button>
    </form>

    <h3>Video ƒëang ch·∫°y</h3>
    {% for id in stream_ids %}
        <div>
            <h4>Stream {{ id }}</h4>
            <img src="{{ url_for('video_feed', stream_id=id) }}" width="480">
        </div>
    {% endfor %}

    {% if image_result %}
        <h3>K·∫øt qu·∫£ ·∫£nh:</h3>
        <img src="{{ image_result }}" width="480">
    {% endif %}
</body>
</html>
